  [1m[36m (19.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20141121093348)
Migrating to CreateLogins (20141121093847)
Migrating to AddSaltToUsers (20141121123245)
Migrating to AddAdminToUsers (20141121152055)
Migrating to AddEmailtoUsers (20141121180508)
Migrating to AddEmailToUsers (20141121180655)
Migrating to AddTypeToItems (20141124094458)
Migrating to AddUserIdToSales (20141124111958)
Migrating to AddDiscountToSales (20150525072827)
Migrating to EditDiscountToSales (20150525073354)
Migrating to AddStatusToItem (20150610084939)
Migrating to AddActiveIdToItem (20150610085043)
Migrating to CreateClients (20150909091343)
Migrating to AddArvNumberToClients (20150909093420)
Migrating to RemoveFirstnameFromClients (20150909093452)
Migrating to RemoveSurnameFromClients (20150909093531)
Migrating to CreateAppointments (20150909103956)
Migrating to AddStatusToAppointment (20150910095641)
  [1m[35m (887.0ms)[0m  ALTER TABLE `appointments` ADD `status` varchar(255)
  [1m[36m (75.6ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150910095641')[0m
Migrating to CreateClientMedicals (20150910100242)
  [1m[35m (350.4ms)[0m  CREATE TABLE `client_medicals` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `client_id` decimal, `regimen` varchar(255), `sulphur_allegy` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (53.9ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150910100242')[0m
Migrating to AddDrugsPastToAppointment (20150910100500)
  [1m[35m (660.6ms)[0m  ALTER TABLE `appointments` ADD `drugs_past` decimal
  [1m[36m (54.2ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150910100500')[0m
Migrating to AddTakenEveningToAppointment (20150910100531)
  [1m[35m (839.5ms)[0m  ALTER TABLE `appointments` ADD `taken_evening` decimal
  [1m[36m (53.8ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150910100531')[0m
Migrating to AddTakenMorningToAppointment (20150910100554)
  [1m[35m (792.3ms)[0m  ALTER TABLE `appointments` ADD `taken_morning` decimal
  [1m[36m (65.3ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20150910100554')[0m
  [1m[35m (0.4ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 


Started HEAD "/" for 127.0.0.1 at 2015-09-10 18:44:57 +0200
  Processing by DashboardController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 47ms


Started GET "/" for 127.0.0.1 at 2015-09-10 18:45:42 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (52.1ms)
Completed 200 OK in 379ms (Views: 178.6ms | ActiveRecord: 166.1ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-10 18:45:42 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/client_medicals" for 127.0.0.1 at 2015-09-10 18:46:51 +0200
  Processing by ClientMedicalsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClientMedical Load (0.4ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` [0m
Rendered client_medicals/index.html.erb within layouts/application (1.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 180ms (Views: 163.0ms | ActiveRecord: 3.5ms)


Started GET "/client_medicals/new" for 127.0.0.1 at 2015-09-10 18:46:53 +0200
  Processing by ClientMedicalsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered client_medicals/_form.html.erb (12.9ms)
Rendered client_medicals/new.html.erb within layouts/application (14.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 76ms (Views: 62.1ms | ActiveRecord: 4.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-10 18:49:52 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (13.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 119ms (Views: 63.4ms | ActiveRecord: 3.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-10 18:49:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (70.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 189ms (Views: 121.0ms | ActiveRecord: 38.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-10 18:59:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (12.3ms)
Rendered clients/show.html.erb within layouts/application (27.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 141ms (Views: 76.4ms | ActiveRecord: 6.4ms)


Started HEAD "/" for 127.0.0.1 at 2015-09-11 17:46:40 +0200


Started GET "/" for 127.0.0.1 at 2015-09-11 17:46:41 +0200
  Processing by DashboardController#index as HTML
  Processing by DashboardController#index as HTML
Redirected to http://localhost:3000/sessions/new
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 43ms
Completed 302 Found in 43ms


Started GET "/sessions/new" for 127.0.0.1 at 2015-09-11 17:46:41 +0200
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/sessions (8.5ms)
Completed 200 OK in 132ms (Views: 131.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2015-09-11 17:46:57 +0200
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "email"=>"mwmtingwi5@gmail.com", "password"=>"[FILTERED]", "commit"=>"login"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'mwmtingwi5@gmail.com' LIMIT 1[0m
Redirected to http://localhost:3000/?id=7
Completed 302 Found in 111ms


Started GET "/?id=7" for 127.0.0.1 at 2015-09-11 17:46:58 +0200
  Processing by DashboardController#index as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (14.9ms)
Completed 200 OK in 66ms (Views: 49.9ms | ActiveRecord: 3.0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-11 17:46:58 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 17:47:01 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (14.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 208ms (Views: 189.4ms | ActiveRecord: 4.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:47:06 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_medical.html.erb (12.3ms)
Rendered clients/show.html.erb within layouts/application (26.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 256ms (Views: 75.0ms | ActiveRecord: 77.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:47:43 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (10.8ms)
Rendered clients/show.html.erb within layouts/application (24.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 104ms (Views: 73.5ms | ActiveRecord: 6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:48:11 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_medical.html.erb (11.5ms)
Rendered clients/show.html.erb within layouts/application (26.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 106ms (Views: 76.7ms | ActiveRecord: 7.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:49:02 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (11.8ms)
Rendered clients/show.html.erb within layouts/application (25.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 107ms (Views: 76.2ms | ActiveRecord: 7.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:51:58 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_medical.html.erb (11.9ms)
Rendered clients/show.html.erb within layouts/application (26.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 104ms (Views: 75.6ms | ActiveRecord: 7.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:52:19 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (17.3ms)
Rendered clients/show.html.erb within layouts/application (32.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 110ms (Views: 82.1ms | ActiveRecord: 7.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:53:40 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.8ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
ERROR: compiling _app_views_clients__medical_html_erb__830536520_90107020 RAISED /var/www/edi_research/app/views/clients/_medical.html.erb:22: syntax error, unexpected ':', expecting ')'
...nd= ( f.label :sulphur_allegy :value => 'Takes CPT' );@outpu...
...                               ^
Function body:           def _app_views_clients__medical_html_erb__830536520_90107020(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/_medical";_old_output_buffer = @output_buffer;medical = local_assigns[:medical];;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.append=  form_for(@client_medical) do |f| @output_buffer.safe_concat('
');   if @client_medical.errors.any? 
@output_buffer.safe_concat('    <div id="error_explanation">
      <h2>');@output_buffer.append= ( pluralize(@client_medical.errors.count, "error") );@output_buffer.safe_concat(' prohibited this client_medical from being saved:</h2>

      <ul>
');       @client_medical.errors.full_messages.each do |msg| 
@output_buffer.safe_concat('        <li>');@output_buffer.append= ( msg );@output_buffer.safe_concat('</li>
');       end 
@output_buffer.safe_concat('      </ul>
    </div>
');   end 
@output_buffer.safe_concat('
  <div class="field">
    ');@output_buffer.append= ( f.hidden_field :client_id, :value => @client.id );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    ');@output_buffer.append= ( f.select(:regimen, options_for_select(['0A', '0P', '1A', '1P', '2A',  '2P', '3A', '3P', '4A', '4P', '5A', '6A', '7A', '8A', '9A', 'non standard'])) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <div class="field">
    ');@output_buffer.append= ( f.label :sulphur_allegy :value => 'Takes CPT' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('    ');@output_buffer.append= ( f.select(:sulphur_allegy, options_for_select(['yes', 'no'])) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
  <br />
  <div class="actions">
    ');@output_buffer.append= ( f.submit :class => 'more_button', :value => 'add' );@output_buffer.safe_concat('
');@output_buffer.safe_concat('  </div>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/partial_renderer.rb:256:in `render_partial'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/partial_renderer.rb:228:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:165:in `block in instrument_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:164:in `instrument_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/partial_renderer.rb:227:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/partial_renderer.rb:219:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:41:in `render_partial'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/helpers/rendering_helper.rb:27:in `render'
/var/www/edi_research/app/views/clients/show.html.erb:69:in `_app_views_clients_show_html_erb___946058097_93700380'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:144:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:20:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__652106382__process_action__167716467__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/_medical.html.erb (80.8ms)
Rendered clients/show.html.erb within layouts/application (96.4ms)
Completed 500 Internal Server Error in 194ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/_medical.html.erb:22: syntax error, unexpected ':', expecting ')'
...nd= ( f.label :sulphur_allegy :value => 'Takes CPT' );@outpu...
...                               ^):
    19:     <%= f.select(:regimen, options_for_select(['0A', '0P', '1A', '1P', '2A',  '2P', '3A', '3P', '4A', '4P', '5A', '6A', '7A', '8A', '9A', 'non standard'])) %>
    20:   </div>
    21:   <div class="field">
    22:     <%= f.label :sulphur_allegy :value => 'Takes CPT' %>
    23:     <%= f.select(:sulphur_allegy, options_for_select(['yes', 'no'])) %>
    24:   </div>
    25:   <br />
  app/views/clients/show.html.erb:69:in `_app_views_clients_show_html_erb___946058097_93700380'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.8ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:54:12 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (11.2ms)
Rendered clients/show.html.erb within layouts/application (25.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 140ms (Views: 112.5ms | ActiveRecord: 8.0ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 17:54:29 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"1", "regimen"=>"5A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (24.8ms)[0m  [1mINSERT INTO `client_medicals` (`client_id`, `created_at`, `regimen`, `sulphur_allegy`, `updated_at`) VALUES (1, '2015-09-11 17:54:30', '5A', 'yes', '2015-09-11 17:54:30')[0m
  [1m[35m (56.3ms)[0m  COMMIT
Redirected to http://localhost:3000/client_medicals/1
Completed 302 Found in 149ms


Started GET "/client_medicals/1" for 127.0.0.1 at 2015-09-11 17:54:30 +0200
  Processing by ClientMedicalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE `client_medicals`.`id` = 1 LIMIT 1
Rendered client_medicals/show.html.erb within layouts/application (7.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 126ms (Views: 109.5ms | ActiveRecord: 4.1ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 17:54:35 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (16.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 129ms (Views: 112.9ms | ActiveRecord: 4.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:54:37 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (30.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 158ms (Views: 125.7ms | ActiveRecord: 10.7ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 17:54:42 +0200
  Processing by AppointmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mClient Load (0.8ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
Rendered appointments/index.html.erb within layouts/application (38.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 132ms (Views: 110.6ms | ActiveRecord: 6.9ms)


Started GET "/appointments/6/destroy" for 127.0.0.1 at 2015-09-11 17:54:47 +0200
  Processing by AppointmentsController#destroy as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 6 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `appointments` WHERE `appointments`.`id` = 6
  [1m[36m (108.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/appointments
Completed 302 Found in 144ms


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 17:54:47 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
Rendered appointments/index.html.erb within layouts/application (76.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 185ms (Views: 164.3ms | ActiveRecord: 7.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 17:54:49 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (13.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 125ms (Views: 109.9ms | ActiveRecord: 4.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:54:51 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (20.6ms)
Rendered clients/show.html.erb within layouts/application (38.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 164ms (Views: 133.6ms | ActiveRecord: 9.4ms)


Started GET "/client_medicals" for 127.0.0.1 at 2015-09-11 17:56:08 +0200
  Processing by ClientMedicalsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClientMedical Load (0.4ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` 
Rendered client_medicals/index.html.erb within layouts/application (8.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 75ms (Views: 59.5ms | ActiveRecord: 3.7ms)


Started GET "/client_medicals/1" for 127.0.0.1 at 2015-09-11 17:56:10 +0200
  Processing by ClientMedicalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE `client_medicals`.`id` = 1 LIMIT 1
Rendered client_medicals/show.html.erb within layouts/application (7.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 92ms (Views: 73.8ms | ActiveRecord: 4.9ms)


Started GET "/client_medicals" for 127.0.0.1 at 2015-09-11 17:56:13 +0200
  Processing by ClientMedicalsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` 
Rendered client_medicals/index.html.erb within layouts/application (7.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 122ms (Views: 59.5ms | ActiveRecord: 8.3ms)


Started GET "/" for 127.0.0.1 at 2015-09-11 17:56:24 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (11.6ms)
Completed 200 OK in 41ms (Views: 27.1ms | ActiveRecord: 3.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-11 17:56:24 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 17:56:25 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (14.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 84ms (Views: 66.6ms | ActiveRecord: 3.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:56:47 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (10.7ms)
Rendered clients/show.html.erb within layouts/application (26.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 105ms (Views: 74.9ms | ActiveRecord: 8.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 17:57:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.4ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_medical.html.erb (14.2ms)
Rendered clients/show.html.erb within layouts/application (29.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 155ms (Views: 78.5ms | ActiveRecord: 8.3ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 18:01:29 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"1", "regimen"=>"5A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `client_medicals` (`client_id`, `created_at`, `regimen`, `sulphur_allegy`, `updated_at`) VALUES (1, '2015-09-11 18:01:29', '5A', 'yes', '2015-09-11 18:01:29')
  [1m[36m (123.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/client_medicals/2
Completed 302 Found in 199ms


Started GET "/client_medicals/2" for 127.0.0.1 at 2015-09-11 18:01:30 +0200
  Processing by ClientMedicalsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE `client_medicals`.`id` = 2 LIMIT 1[0m
Rendered client_medicals/show.html.erb within layouts/application (7.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 75ms (Views: 58.3ms | ActiveRecord: 4.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 18:01:59 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (14.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 85ms (Views: 66.2ms | ActiveRecord: 5.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:02:13 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (11.1ms)
Rendered clients/show.html.erb within layouts/application (27.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 161ms (Views: 79.5ms | ActiveRecord: 12.5ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 18:04:24 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"1", "regimen"=>"5A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 404 Not Found in 72ms

ActiveRecord::RecordNotFound (Couldn't find Client without an ID):
  app/controllers/client_medicals_controller.rb:45:in `create'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:05:24 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (57.6ms)
Rendered clients/show.html.erb within layouts/application (71.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 154ms (Views: 125.4ms | ActiveRecord: 7.6ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 18:05:31 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"1", "regimen"=>"5A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `client_medicals` (`client_id`, `created_at`, `regimen`, `sulphur_allegy`, `updated_at`) VALUES (1, '2015-09-11 18:05:31', '5A', 'yes', '2015-09-11 18:05:31')
  [1m[36m (70.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 121ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:05:31 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (14.5ms)
Rendered clients/show.html.erb within layouts/application (32.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 113ms (Views: 83.3ms | ActiveRecord: 8.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:06:34 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (18.6ms)
Rendered clients/show.html.erb within layouts/application (37.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 164ms (Views: 134.1ms | ActiveRecord: 10.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:09:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.0ms)
Rendered clients/show.html.erb within layouts/application (41.3ms)
Completed 500 Internal Server Error in 72ms

ActionView::Template::Error (undefined method `sulphur_allergy' for #<ClientMedical:0xb4a4d4f4>):
    24: <%
    25: 	end
    26:         regimen = medical.regimen
    27:         cpt = medical.sulphur_allergy
    28: else
    29: %>
    30: 	<%= render 'medical' %>
  app/views/clients/show.html.erb:27:in `_app_views_clients_show_html_erb___946058097__630017098'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (55.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:09:52 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.4ms)
Rendered clients/show.html.erb within layouts/application (43.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 182ms (Views: 148.6ms | ActiveRecord: 9.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:12:29 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.8ms)
Rendered clients/show.html.erb within layouts/application (90.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 176ms (Views: 144.3ms | ActiveRecord: 9.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:12:30 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.2ms)
Rendered clients/show.html.erb within layouts/application (94.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 185ms (Views: 148.2ms | ActiveRecord: 9.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:12:36 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (72.9ms)
Rendered clients/show.html.erb within layouts/application (96.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 179ms (Views: 148.7ms | ActiveRecord: 9.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:12:52 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (74.5ms)
Rendered clients/show.html.erb within layouts/application (100.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 185ms (Views: 156.2ms | ActiveRecord: 9.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:13:06 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (71.3ms)
Rendered clients/show.html.erb within layouts/application (96.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 182ms (Views: 150.2ms | ActiveRecord: 9.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:13:23 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (3.0ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (15.2ms)
Rendered clients/show.html.erb within layouts/application (92.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 169ms (Views: 141.3ms | ActiveRecord: 9.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:17:42 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/_medical.html.erb (11.4ms)
Rendered clients/show.html.erb within layouts/application (26.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 162ms (Views: 130.6ms | ActiveRecord: 8.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:18:38 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/_medical.html.erb (11.3ms)
Rendered clients/show.html.erb within layouts/application (79.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 159ms (Views: 131.5ms | ActiveRecord: 8.0ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 18:18:44 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"1", "regimen"=>"5A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `client_medicals` (`client_id`, `created_at`, `regimen`, `sulphur_allegy`, `updated_at`) VALUES (1, '2015-09-11 18:18:44', '5A', 'yes', '2015-09-11 18:18:44')[0m
  [1m[35m (59.7ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 167ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:18:45 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (20.3ms)
Rendered clients/show.html.erb within layouts/application (43.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 179ms (Views: 146.0ms | ActiveRecord: 7.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:19:47 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (16.2ms)
Rendered clients/show.html.erb within layouts/application (41.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 174ms (Views: 143.8ms | ActiveRecord: 9.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:20:10 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (20.9ms)
Rendered clients/show.html.erb within layouts/application (48.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 218ms (Views: 184.1ms | ActiveRecord: 8.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:20:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (19.3ms)
Rendered clients/show.html.erb within layouts/application (44.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 188ms (Views: 152.7ms | ActiveRecord: 10.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:20:30 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (17.7ms)
Rendered clients/show.html.erb within layouts/application (96.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 189ms (Views: 157.1ms | ActiveRecord: 9.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:20:38 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (15.5ms)
Rendered clients/show.html.erb within layouts/application (93.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 171ms (Views: 145.6ms | ActiveRecord: 6.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:25:53 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (17.1ms)
Rendered clients/show.html.erb within layouts/application (96.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 174ms (Views: 144.7ms | ActiveRecord: 9.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:26:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.8ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (17.2ms)
Rendered clients/show.html.erb within layouts/application (99.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 199ms (Views: 152.9ms | ActiveRecord: 10.1ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-11 18:26:57 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"1", "taken_evening"=>"0", "due_date"=>"2015-10-11", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-11 18:26:57', 7, '2015-10-11', NULL, 0, 1, 30, '2015-09-11 18:26:57')
  [1m[36m (120.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 231ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:26:57 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (36.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 170ms (Views: 139.9ms | ActiveRecord: 9.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:29:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (91.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 177ms (Views: 142.0ms | ActiveRecord: 10.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:30:17 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (91.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 172ms (Views: 145.1ms | ActiveRecord: 7.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 18:30:25 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (101.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 186ms (Views: 154.1ms | ActiveRecord: 9.5ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 18:30:53 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
  [1m[36mClient Load (0.8ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
Rendered appointments/index.html.erb within layouts/application (92.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 162ms (Views: 141.7ms | ActiveRecord: 8.2ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 18:30:58 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (14.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 86ms (Views: 65.8ms | ActiveRecord: 4.6ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 18:31:01 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
Rendered appointments/index.html.erb within layouts/application (36.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 106ms (Views: 85.9ms | ActiveRecord: 7.4ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 18:31:03 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (13.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 81ms (Views: 63.9ms | ActiveRecord: 4.2ms)


Started GET "/clients/1/edit" for 127.0.0.1 at 2015-09-11 18:31:17 +0200
  Processing by ClientsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
Rendered clients/_form.html.erb (19.1ms)
Rendered clients/edit.html.erb within layouts/application (21.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 91ms (Views: 72.6ms | ActiveRecord: 4.6ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 18:31:26 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (70.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 140ms (Views: 122.7ms | ActiveRecord: 5.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:02:34 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.9ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (96.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 191ms (Views: 154.5ms | ActiveRecord: 11.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 21:02:51 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (16.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 144ms (Views: 126.9ms | ActiveRecord: 3.9ms)


Started GET "/clients/2" for 127.0.0.1 at 2015-09-11 21:02:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 2) LIMIT 1
Rendered clients/_medical.html.erb (11.8ms)
Rendered clients/show.html.erb within layouts/application (26.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 165ms (Views: 136.1ms | ActiveRecord: 8.7ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 21:02:59 +0200
  Processing by AppointmentsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
Rendered appointments/index.html.erb within layouts/application (34.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 167ms (Views: 144.0ms | ActiveRecord: 7.7ms)


Started GET "/appointments/4/destroy" for 127.0.0.1 at 2015-09-11 21:03:03 +0200
  Processing by AppointmentsController#destroy as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 4 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `appointments` WHERE `appointments`.`id` = 4
  [1m[36m (133.4ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/appointments
Completed 302 Found in 167ms


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 21:03:03 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
Rendered appointments/index.html.erb within layouts/application (89.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 255ms (Views: 141.2ms | ActiveRecord: 99.3ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 21:03:09 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (13.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 144ms (Views: 126.2ms | ActiveRecord: 4.2ms)


Started GET "/clients/2" for 127.0.0.1 at 2015-09-11 21:03:11 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 2) LIMIT 1[0m
Rendered clients/_medical.html.erb (11.1ms)
Rendered clients/show.html.erb within layouts/application (26.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 164ms (Views: 137.0ms | ActiveRecord: 8.2ms)


Started POST "/client_medicals" for 127.0.0.1 at 2015-09-11 21:03:17 +0200
  Processing by ClientMedicalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "client_medical"=>{"client_id"=>"2", "regimen"=>"0A", "sulphur_allegy"=>"yes"}, "commit"=>"add"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `client_medicals` (`client_id`, `created_at`, `regimen`, `sulphur_allegy`, `updated_at`) VALUES (2, '2015-09-11 21:03:17', '0A', 'yes', '2015-09-11 21:03:17')[0m
  [1m[35m (192.9ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/2
Completed 302 Found in 249ms


Started GET "/clients/2" for 127.0.0.1 at 2015-09-11 21:03:17 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
  [1m[36mClientMedical Load (0.8ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 2) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (client_id = 2) LIMIT 1
Rendered clients/_appointment.html.erb (15.6ms)
Rendered clients/show.html.erb within layouts/application (40.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 122ms (Views: 90.3ms | ActiveRecord: 10.2ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-11 21:03:46 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y+nACJfJ5hnAZeAPvtKac7JIr1KKVEZCuTltQIO1d3Y=", "appointment"=>{"client_id"=>"2", "total_drugs"=>"60", "taken_morning"=>"1", "taken_evening"=>"1", "due_date"=>"2015-10-11", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (2, '2015-09-11 21:03:46', 7, '2015-10-11', NULL, 1, 1, 60, '2015-09-11 21:03:46')
  [1m[36m (121.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/2
Completed 302 Found in 175ms


Started GET "/clients/2" for 127.0.0.1 at 2015-09-11 21:03:46 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 2) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 2) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (36.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 175ms (Views: 142.2ms | ActiveRecord: 8.7ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-11 21:05:46 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (1.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
Rendered appointments/index.html.erb within layouts/application (35.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 164ms (Views: 84.2ms | ActiveRecord: 9.3ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 21:05:56 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (72.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 144ms (Views: 124.9ms | ActiveRecord: 4.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:06:16 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (98.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 186ms (Views: 149.9ms | ActiveRecord: 10.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:07:48 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (96.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 182ms (Views: 150.6ms | ActiveRecord: 9.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:08:35 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (96.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 178ms (Views: 149.7ms | ActiveRecord: 7.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:08:36 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (103.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 189ms (Views: 156.1ms | ActiveRecord: 9.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:08:37 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (101.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 185ms (Views: 154.8ms | ActiveRecord: 9.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:10:25 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (36.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 177ms (Views: 149.8ms | ActiveRecord: 6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:14:37 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM appointments WHERE due_date < '2015-09-11' AND client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (18.5ms)
Completed 500 Internal Server Error in 114ms

ActionView::Template::Error (undefined method `total_drugs' for []:Array):
    19: %>
    20: 	<p>
    21: 	  <b>Total drugs given on previous visit:</b><br /><br />
    22:           <%= appointment.total_drugs %>
    23: 	</p>
    24: 	<p>
    25:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:22:in `_app_views_clients_show_html_erb___946058097__625938728'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:15:27 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM appointments WHERE due_date < DATE('2015-09-11') AND client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (74.9ms)
Completed 500 Internal Server Error in 113ms

ActionView::Template::Error (undefined method `total_drugs' for []:Array):
    19: %>
    20: 	<p>
    21: 	  <b>Total drugs given on previous visit:</b><br /><br />
    22:           <%= appointment.total_drugs %>
    23: 	</p>
    24: 	<p>
    25:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:22:in `_app_views_clients_show_html_erb___946058097__651330068'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:15:29 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT * FROM appointments WHERE due_date < DATE('2015-09-11') AND client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (19.0ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (undefined method `total_drugs' for []:Array):
    19: %>
    20: 	<p>
    21: 	  <b>Total drugs given on previous visit:</b><br /><br />
    22:           <%= appointment.total_drugs %>
    23: 	</p>
    24: 	<p>
    25:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:22:in `_app_views_clients_show_html_erb___946058097__651330068'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (59.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (65.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:17:29 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (18.3ms)
Completed 500 Internal Server Error in 52ms

ActionView::Template::Error (undefined method `total_drugs' for []:Array):
    19: %>
    20: 	<p>
    21: 	  <b>Total drugs given on previous visit:</b><br /><br />
    22:           <%= appointment.total_drugs %>
    23: 	</p>
    24: 	<p>
    25:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:22:in `_app_views_clients_show_html_erb___946058097__644733658'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:17:30 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (17.1ms)
Completed 500 Internal Server Error in 60ms

ActionView::Template::Error (undefined method `total_drugs' for []:Array):
    19: %>
    20: 	<p>
    21: 	  <b>Total drugs given on previous visit:</b><br /><br />
    22:           <%= appointment.total_drugs %>
    23: 	</p>
    24: 	<p>
    25:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:22:in `_app_views_clients_show_html_erb___946058097__644733658'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:19:23 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (63.8ms)
Completed 500 Internal Server Error in 102ms

ActionView::Template::Error (undefined local variable or method `appointment' for #<#<Class:0xb4a7e338>:0xb4767208>):
    13: 
    14:          end
    15: 
    16: 	if appointment.nil?
    17: %>
    18: 	<%= render 'appointment' %>
    19: <% 
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___946058097__633636568'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (59.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (75.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:20:09 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.8ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.9ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (121.9ms)
Completed 500 Internal Server Error in 169ms

ActionView::Template::Error (undefined local variable or method `appointment' for #<#<Class:0xb2b00948>:0xb2b42ec4>):
    13: 
    14:          end
    15: 
    16: 	if appointment.id.nil?
    17: %>
    18: 	<%= render 'appointment' %>
    19: <% 
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___946058097__648382458'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:21:03 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (61.3ms)
Completed 500 Internal Server Error in 169ms

ActionView::Template::Error (undefined local variable or method `appointment_id' for #<#<Class:0xb2bb6dec>:0xb391923c>):
    13:          appointment_id = appointment.id
    14:          end
    15: 
    16: 	if appointment_id.nil?
    17: %>
    18: 	<%= render 'appointment' %>
    19: <% 
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___946058097__629143398'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (16.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:22:29 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.9ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (63.2ms)
Completed 500 Internal Server Error in 109ms

ActionView::Template::Error (undefined local variable or method `appointment' for #<#<Class:0xb31b3d6c>:0xb2f39870>):
    21: %>
    22: 	<p>
    23: 	  <b>Total drugs given on previous visit:</b><br /><br />
    24:           <%= appointment.total_drugs %>
    25: 	</p>
    26: 	<p>
    27:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:24:in `_app_views_clients_show_html_erb___946058097__646332548'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (15.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:23:05 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (20.2ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (Couldn't find Appointment with id=1):
    8: 
    9: if !medical.nil?
    10:          today = Date.today
    11:           appointment = Appointment.find(@client.id)
    12: 	 Appointment.find_by_sql(["SELECT * FROM edi.appointments WHERE appointments.due_date < DATE(?) AND appointments.client_id = ? LIMIT 1", today, @client.id]).each do |appointment|
    13:          appointment_id = appointment.id
    14:          end
  app/views/clients/show.html.erb:11:in `_app_views_clients_show_html_erb___946058097__657014038'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (70.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:23:33 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1
Rendered clients/show.html.erb within layouts/application (125.0ms)
Completed 500 Internal Server Error in 168ms

ActionView::Template::Error (undefined local variable or method `appointment_id' for #<#<Class:0xb2571a04>:0xb2577b0c>):
    13:          appointment_id = appointment.id
    14:          end
    15: 
    16: 	if appointment_id.nil?
    17: %>
    18: 	<%= render 'appointment' %>
    19: <% 
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___946058097__651393738'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (17.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:23:47 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT * FROM edi.appointments WHERE appointments.due_date < DATE('2015-09-11') AND appointments.client_id = 1 LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (33.9ms)
Completed 500 Internal Server Error in 124ms

ActionView::Template::Error (undefined method `total_drugs' for #<Array:0xb4d21e50>):
    21: %>
    22: 	<p>
    23: 	  <b>Total drugs given on previous visit:</b><br /><br />
    24:           <%= appointment.total_drugs %>
    25: 	</p>
    26: 	<p>
    27:          <b>Next appointment scheduled for:</b><br /><br />
  app/views/clients/show.html.erb:24:in `_app_views_clients_show_html_erb___946058097__659602648'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:24:35 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (76.8ms)
Completed 500 Internal Server Error in 110ms

ActionView::Template::Error (Couldn't find Appointment without an ID):
    8: 
    9: if !medical.nil?
    10:          today = Date.today
    11:           appointment = Appointment.find()
    12: 	 Appointment.find_by_sql(["SELECT * FROM edi.appointments WHERE appointments.due_date < DATE(?) AND appointments.client_id = ? LIMIT 1", today, @client.id]).each do |appointment|
    13:          appointment_id = appointment.id
    14:          end
  app/views/clients/show.html.erb:11:in `_app_views_clients_show_html_erb___946058097__663212108'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:24:44 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (16.5ms)
Completed 500 Internal Server Error in 53ms

ActionView::Template::Error (Couldn't find Appointment without an ID):
    8: 
    9: if !medical.nil?
    10:          today = Date.today
    11:           appointment = Appointment.find()
    12: 	 Appointment.find_by_sql(["SELECT * FROM edi.appointments WHERE appointments.due_date < DATE(?) AND appointments.client_id = ? LIMIT 1", today, @client.id]).each do |appointment|
    13:          appointment_id = appointment.id
    14:          end
  app/views/clients/show.html.erb:11:in `_app_views_clients_show_html_erb___946058097__663212108'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (67.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:25:02 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (37.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 185ms (Views: 150.9ms | ActiveRecord: 9.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:26:20 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (39.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 189ms (Views: 154.8ms | ActiveRecord: 8.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:28:19 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (103.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 187ms (Views: 157.4ms | ActiveRecord: 9.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 21:30:17 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-11' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (81.7ms)
Rendered clients/show.html.erb within layouts/application (107.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 191ms (Views: 160.3ms | ActiveRecord: 9.7ms)


Started GET "/" for 127.0.0.1 at 2015-09-11 23:51:14 +0200
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (12.7ms)
Completed 200 OK in 45ms (Views: 30.8ms | ActiveRecord: 3.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-11 23:51:14 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/users/7" for 127.0.0.1 at 2015-09-11 23:51:17 +0200
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered users/show.html.erb within layouts/application (17.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 85ms (Views: 76.6ms | ActiveRecord: 1.9ms)


Started GET "/" for 127.0.0.1 at 2015-09-11 23:51:20 +0200
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (74.1ms)
Completed 200 OK in 103ms (Views: 89.8ms | ActiveRecord: 2.9ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-11 23:51:20 +0200
Served asset /defaults.js - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.1ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-11 23:51:22 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (13.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 84ms (Views: 65.9ms | ActiveRecord: 4.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-11 23:51:24 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-11' AND client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (16.2ms)
Rendered clients/show.html.erb within layouts/application (42.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 128ms (Views: 92.7ms | ActiveRecord: 10.2ms)


Started GET "/client_medicals" for 127.0.0.1 at 2015-09-12 06:34:58 +0200
  Processing by ClientMedicalsController#index as HTML
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` [0m
Rendered client_medicals/index.html.erb within layouts/application (9.5ms)
Completed 500 Internal Server Error in 41ms

ActionView::Template::Error (Couldn't find User without an ID):
    13: <%= stylesheet_link_tag 'default.css', :media => 'all' %>
    14: <%= stylesheet_link_tag 'perfect-scrollbar.css', :media => 'all' %>
    15: <% 
    16:   user = User.find(session[:user])
    17:   if !user.admin?
    18: %>
    19: <%= stylesheet_link_tag 'user.css', :media => 'all' %>
  app/views/layouts/application.html.erb:16:in `_app_views_layouts_application_html_erb__59608196__639144538'
  app/controllers/client_medicals_controller.rb:7:in `index'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/" for 127.0.0.1 at 2015-09-12 06:35:06 +0200
  Processing by DashboardController#index as HTML
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 7ms


Started GET "/sessions/new" for 127.0.0.1 at 2015-09-12 06:35:06 +0200
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/sessions (1.7ms)
Completed 200 OK in 75ms (Views: 74.5ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2015-09-12 06:35:17 +0200
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "email"=>"mwmtingwi5@gmail.com", "password"=>"[FILTERED]", "commit"=>"login"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`email` = 'mwmtingwi5@gmail.com' LIMIT 1
Redirected to http://localhost:3000/?id=7
Completed 302 Found in 89ms


Started GET "/?id=7" for 127.0.0.1 at 2015-09-12 06:35:17 +0200
  Processing by DashboardController#index as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (13.0ms)
Completed 200 OK in 44ms (Views: 30.0ms | ActiveRecord: 2.8ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-12 06:35:18 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-12 06:35:20 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (14.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 88ms (Views: 69.5ms | ActiveRecord: 4.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 06:35:24 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (15.9ms)
Rendered clients/show.html.erb within layouts/application (81.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 234ms (Views: 130.8ms | ActiveRecord: 9.5ms)


Started GET "/appointments" for 127.0.0.1 at 2015-09-12 06:35:32 +0200
  Processing by AppointmentsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
Rendered appointments/index.html.erb within layouts/application (36.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 170ms (Views: 151.2ms | ActiveRecord: 7.2ms)


Started GET "/appointments/7" for 127.0.0.1 at 2015-09-12 06:37:39 +0200
  Processing by AppointmentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
Rendered appointments/show.html.erb within layouts/application (103.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 248ms (Views: 227.4ms | ActiveRecord: 7.3ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-12 06:37:44 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (14.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 150ms (Views: 133.1ms | ActiveRecord: 4.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 06:37:47 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (36.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 190ms (Views: 157.6ms | ActiveRecord: 8.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 06:39:15 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (13.3ms)
Rendered clients/show.html.erb within layouts/application (41.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 196ms (Views: 162.8ms | ActiveRecord: 8.3ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-12 07:02:00 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"1", "taken_evening"=>"0", "due_date"=>"2015-11-12", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-12 07:02:00', 7, '2015-11-12', NULL, 0, 1, 30, '2015-09-12 07:02:00')
  [1m[36m (222.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 278ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:02:00 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (15.1ms)
Rendered clients/show.html.erb within layouts/application (42.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 209ms (Views: 155.1ms | ActiveRecord: 29.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:02:33 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.8ms)
Rendered clients/show.html.erb within layouts/application (43.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 194ms (Views: 162.4ms | ActiveRecord: 10.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:02:35 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (16.4ms)
Rendered clients/show.html.erb within layouts/application (42.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 199ms (Views: 98.7ms | ActiveRecord: 10.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:02:36 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (17.7ms)
Rendered clients/show.html.erb within layouts/application (45.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 195ms (Views: 96.1ms | ActiveRecord: 14.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:03:01 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (36.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 188ms (Views: 90.4ms | ActiveRecord: 8.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:04:34 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_clients_show_html_erb___946058097_91904700 RAISED /var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ':', expecting ')'
....id ],:order_by => 'due_date' :limit => 1)
...                               ^
Function body:           def _app_views_clients_show_html_erb___946058097_91904700(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<style>
#staff_right p{width:98%}
</style>
<span id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</span>
<div id="staff_right">
');
medical = ClientMedical.find(:first, :conditions => [ "client_id = ?", @client.id ], :limit => 1)

if !medical.nil?
         today = Date.today

	 appointment = Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ],:order_by => 'due_date' :limit => 1)

	if appointment.nil?

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'appointment' );@output_buffer.safe_concat('
'); 
	else

@output_buffer.safe_concat('	<p>
	  <b>Total drugs given on previous visit:</b><br /><br />
          ');@output_buffer.append= ( appointment.total_drugs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
	<p>
         <b>Next appointment scheduled for:</b><br /><br />
	 ');@output_buffer.append= ( appointment.due_date.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
');
	end
        regimen = medical.regimen
        cpt = medical.sulphur_allegy
else

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'medical' );@output_buffer.safe_concat('
');
end

@output_buffer.safe_concat('</div>
<p>
  <b>Arv Number:</b>
  ');@output_buffer.append= ( @client.arv_number );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Date of Birth:</b>
  ');@output_buffer.append= ( @client.dob.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Gender:</b>
  ');@output_buffer.append= ( @client.gender );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Education:</b>
  ');@output_buffer.append= ( @client.education );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Occupation:</b>
  ');@output_buffer.append= ( @client.occupation );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Marital status:</b>
  ');@output_buffer.append= ( @client.marital_status );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Literacy level:</b>
  ');@output_buffer.append= ( @client.literacy_level );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Phone:</b>
  ');@output_buffer.append= ( @client.phone );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); if !medical.nil? 
@output_buffer.safe_concat('<p>
  <b>Regimen:</b>
  ');@output_buffer.append= ( regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
 <b>Takes CPT:</b>
 ');@output_buffer.append= ( cpt );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:20:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__652106382__process_action__167716467__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/show.html.erb within layouts/application (1.5ms)
Completed 500 Internal Server Error in 36ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ':', expecting ')'
....id ],:order_by => 'due_date' :limit => 1)
...                               ^):
    9: if !medical.nil?
    10:          today = Date.today
    11: 
    12: 	 appointment = Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ],:order_by => 'due_date' :limit => 1)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:04:57 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (78.6ms)
Completed 500 Internal Server Error in 113ms

ActionView::Template::Error (Unknown key: order_by):
    9: if !medical.nil?
    10:          today = Date.today
    11: 
    12: 	 appointment = Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ],:order_by => 'due_date', :limit => 1)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/views/clients/show.html.erb:12:in `_app_views_clients_show_html_erb___946058097__645728208'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:04:58 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (16.3ms)
Completed 500 Internal Server Error in 51ms

ActionView::Template::Error (Unknown key: order_by):
    9: if !medical.nil?
    10:          today = Date.today
    11: 
    12: 	 appointment = Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ],:order_by => 'due_date', :limit => 1)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/views/clients/show.html.erb:12:in `_app_views_clients_show_html_erb___946058097__645728208'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:04:58 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (17.4ms)
Completed 500 Internal Server Error in 55ms

ActionView::Template::Error (Unknown key: order_by):
    9: if !medical.nil?
    10:          today = Date.today
    11: 
    12: 	 appointment = Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ],:order_by => 'due_date', :limit => 1)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/views/clients/show.html.erb:12:in `_app_views_clients_show_html_erb___946058097__645728208'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:06:52 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (35.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 114ms (Views: 85.7ms | ActiveRecord: 7.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:07:18 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (40.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 125ms (Views: 91.5ms | ActiveRecord: 8.4ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:07:21 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (1.2ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (41.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 122ms (Views: 91.1ms | ActiveRecord: 10.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:08:59 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date > '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (33.5ms)
Completed 500 Internal Server Error in 69ms

ActionView::Template::Error (undefined method `each' for #<Appointment:0xb4e8cc40>):
    9: if !medical.nil?
    10:          today = Date.today
    11: 
    12: 	 Appointment.find(:first, :conditions => [ "due_date > ? AND client_id = ?",  today, @client.id ]).each do |appointment| end
    13: 
    14: 	if !appointment.nil?
    15: %>
  app/views/clients/show.html.erb:12:in `_app_views_clients_show_html_erb___946058097__626884568'
  app/controllers/clients_controller.rb:20:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (60.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (66.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:12:23 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (22.7ms)
Rendered clients/show.html.erb within layouts/application (51.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 206ms (Views: 171.6ms | ActiveRecord: 8.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 07:12:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (16.5ms)
Rendered clients/show.html.erb within layouts/application (110.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 203ms (Views: 170.0ms | ActiveRecord: 9.7ms)


Started GET "/" for 127.0.0.1 at 2015-09-12 16:28:10 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (14.1ms)
Completed 200 OK in 106ms (Views: 91.3ms | ActiveRecord: 3.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-12 16:28:10 +0200
Served asset /defaults.js - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.7ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-12 16:28:11 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.8ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (19.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 244ms (Views: 161.7ms | ActiveRecord: 3.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-12 16:28:13 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.4ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-12' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (19.5ms)
Rendered clients/show.html.erb within layouts/application (111.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 236ms (Views: 164.5ms | ActiveRecord: 8.9ms)


Started HEAD "/" for 127.0.0.1 at 2015-09-12 17:12:18 +0200
  Processing by DashboardController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 46ms


Started HEAD "/" for 127.0.0.1 at 2015-09-12 17:27:04 +0200
  Processing by DashboardController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 15ms


Started HEAD "/" for 127.0.0.1 at 2015-09-14 09:36:24 +0200
  Processing by DashboardController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 27ms


Started GET "/" for 127.0.0.1 at 2015-09-14 09:36:29 +0200
  Processing by DashboardController#index as HTML
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 6ms


Started GET "/sessions/new" for 127.0.0.1 at 2015-09-14 09:36:29 +0200
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/sessions (38.2ms)
Completed 200 OK in 371ms (Views: 370.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2015-09-14 09:36:46 +0200
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"M6aIWNn5Enu/CCvNJG4Hv+q33OdYec61hk0YjkEgrUY=", "email"=>"mwmtingwi5@gmail.com", "password"=>"[FILTERED]", "commit"=>"login"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'mwmtingwi5@gmail.com' LIMIT 1[0m
Redirected to http://localhost:3000/?id=7
Completed 302 Found in 85ms


Started GET "/?id=7" for 127.0.0.1 at 2015-09-14 09:36:46 +0200
  Processing by DashboardController#index as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (11.6ms)
Completed 200 OK in 140ms (Views: 126.3ms | ActiveRecord: 2.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-14 09:36:47 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/?id=7" for 127.0.0.1 at 2015-09-14 09:36:55 +0200
  Processing by DashboardController#index as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (10.9ms)
Completed 200 OK in 39ms (Views: 25.5ms | ActiveRecord: 3.6ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-14 09:36:55 +0200
Served asset /defaults.js - 404 Not Found (4ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/" for 127.0.0.1 at 2015-09-14 09:37:08 +0200
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (10.7ms)
Completed 200 OK in 41ms (Views: 26.9ms | ActiveRecord: 3.0ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2015-09-14 09:37:08 +0200
Served asset /defaults.js - 404 Not Found (5ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.0ms)


Started GET "/clients" for 127.0.0.1 at 2015-09-14 09:37:12 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (14.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 276ms (Views: 259.3ms | ActiveRecord: 4.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:37:25 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
ERROR: compiling _app_views_clients_show_html_erb__558800726_89404330 RAISED /var/www/edi_research/app/views/clients/show.html.erb:32: syntax error, unexpected keyword_else, expecting keyword_end
/var/www/edi_research/app/views/clients/show.html.erb:89: syntax error, unexpected keyword_ensure, expecting keyword_end
/var/www/edi_research/app/views/clients/show.html.erb:91: syntax error, unexpected $end, expecting keyword_end
Function body:           def _app_views_clients_show_html_erb__558800726_89404330(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<style>
#staff_right p{width:98%}
</style>
<span id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</span>
<div id="staff_right">
');
medical = ClientMedical.find(:first, :conditions => [ "client_id = ?", @client.id ], :limit => 1)

if !medical.nil?
         today = Date.today

	 @appointments.each do |appointment|

	if appointment.nil?

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'appointment' );@output_buffer.safe_concat('
'); 
	else

@output_buffer.safe_concat('	<p>
	  <b>Total drugs given on previous visit:</b><br /><br />
          ');@output_buffer.append= ( appointment.total_drugs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
	<p>
         <b>Next appointment scheduled for:</b><br /><br />
	 ');@output_buffer.append= ( appointment.due_date.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
');
	end
        regimen = medical.regimen
        cpt = medical.sulphur_allegy
else

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'medical' );@output_buffer.safe_concat('
');
end

@output_buffer.safe_concat('</div>
<p>
  <b>Arv Number:</b>
  ');@output_buffer.append= ( @client.arv_number );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Date of Birth:</b>
  ');@output_buffer.append= ( @client.dob.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Gender:</b>
  ');@output_buffer.append= ( @client.gender );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Education:</b>
  ');@output_buffer.append= ( @client.education );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Occupation:</b>
  ');@output_buffer.append= ( @client.occupation );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Marital status:</b>
  ');@output_buffer.append= ( @client.marital_status );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Literacy level:</b>
  ');@output_buffer.append= ( @client.literacy_level );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Phone:</b>
  ');@output_buffer.append= ( @client.phone );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); if !medical.nil? 
@output_buffer.safe_concat('<p>
  <b>Regimen:</b>
  ');@output_buffer.append= ( regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
 <b>Takes CPT:</b>
 ');@output_buffer.append= ( cpt );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:30:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__68865757__process_action__296144752__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/show.html.erb within layouts/application (34.9ms)
Completed 500 Internal Server Error in 186ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/show.html.erb:32: syntax error, unexpected keyword_else, expecting keyword_end
/var/www/edi_research/app/views/clients/show.html.erb:89: syntax error, unexpected keyword_ensure, expecting keyword_end
/var/www/edi_research/app/views/clients/show.html.erb:91: syntax error, unexpected $end, expecting keyword_end):
    29: 	end
    30:         regimen = medical.regimen
    31:         cpt = medical.sulphur_allegy
    32: else
    33: %>
    34: 	<%= render 'medical' %>
    35: <%
  app/controllers/clients_controller.rb:30:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.4ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:41:27 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-14' AND client_id = 1) LIMIT 1
Rendered clients/_appointment.html.erb (6.1ms)
Rendered clients/show.html.erb within layouts/application (32.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 169ms (Views: 122.5ms | ActiveRecord: 10.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:43:30 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClientMedical Load (0.5ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-14' AND client_id = 1) LIMIT 1[0m
Rendered clients/_appointment.html.erb (3.2ms)
Rendered clients/show.html.erb within layouts/application (69.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 164ms (Views: 122.1ms | ActiveRecord: 8.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:44:22 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 09:44:22' WHERE `appointments`.`id` = 7[0m
  [1m[35m (84.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (due_date < '2015-09-14' AND client_id = 1) LIMIT 1
Rendered clients/show.html.erb within layouts/application (67.7ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 344ms (Views: 119.5ms | ActiveRecord: 97.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:49:15 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `appointments` SET `status` = 'pending', `updated_at` = '2015-09-14 09:49:15' WHERE `appointments`.`id` = 8[0m
  [1m[35m (123.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
ERROR: compiling _app_views_clients_show_html_erb__558800726_95547110 RAISED /var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'
Function body:           def _app_views_clients_show_html_erb__558800726_95547110(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<style>
#staff_right p{width:98%}
</style>
<span id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</span>
<div id="staff_right">
');
medical = ClientMedical.find(:first, :conditions => [ "client_id = ?", @client.id ], :limit => 1)

if !medical.nil?
         today = Date.today
	 status = 'done'
	 appointment = Appointment.find(:first, :conditions => [ "status != ? ",  status)

	if appointment.nil?

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'appointment' );@output_buffer.safe_concat('
'); 
	else

@output_buffer.safe_concat('	<p>
	  <b>Total drugs given on previous visit:</b><br /><br />
          ');@output_buffer.append= ( appointment.total_drugs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
	<p>
         <b>Next appointment scheduled for:</b><br /><br />
	 ');@output_buffer.append= ( appointment.due_date.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
');
	end
        regimen = medical.regimen
        cpt = medical.sulphur_allegy
else

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'medical' );@output_buffer.safe_concat('
');
end

@output_buffer.safe_concat('</div>
<p>
  <b>Arv Number:</b>
  ');@output_buffer.append= ( @client.arv_number );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Date of Birth:</b>
  ');@output_buffer.append= ( @client.dob.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Gender:</b>
  ');@output_buffer.append= ( @client.gender );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Education:</b>
  ');@output_buffer.append= ( @client.education );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Occupation:</b>
  ');@output_buffer.append= ( @client.occupation );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Marital status:</b>
  ');@output_buffer.append= ( @client.marital_status );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Literacy level:</b>
  ');@output_buffer.append= ( @client.literacy_level );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Phone:</b>
  ');@output_buffer.append= ( @client.phone );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); if !medical.nil? 
@output_buffer.safe_concat('<p>
  <b>Regimen:</b>
  ');@output_buffer.append= ( regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
 <b>Takes CPT:</b>
 ');@output_buffer.append= ( cpt );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:34:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__68865757__process_action__296144752__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/show.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 233ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'):
    9: if !medical.nil?
    10:          today = Date.today
    11: 	 status = 'done'
    12: 	 appointment = Appointment.find(:first, :conditions => [ "status != ? ",  status)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:50:02 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
ERROR: compiling _app_views_clients_show_html_erb__558800726_96211460 RAISED /var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'
Function body:           def _app_views_clients_show_html_erb__558800726_96211460(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<style>
#staff_right p{width:98%}
</style>
<span id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</span>
<div id="staff_right">
');
medical = ClientMedical.find(:first, :conditions => [ "client_id = ?", @client.id ], :limit => 1)

if !medical.nil?
         today = Date.today
	 status = 'pending'
	 appointment = Appointment.find(:first, :conditions => [ "status = ? ",  status)

	if appointment.nil?

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'appointment' );@output_buffer.safe_concat('
'); 
	else

@output_buffer.safe_concat('	<p>
	  <b>Total drugs given on previous visit:</b><br /><br />
          ');@output_buffer.append= ( appointment.total_drugs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
	<p>
         <b>Next appointment scheduled for:</b><br /><br />
	 ');@output_buffer.append= ( appointment.due_date.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
');
	end
        regimen = medical.regimen
        cpt = medical.sulphur_allegy
else

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'medical' );@output_buffer.safe_concat('
');
end

@output_buffer.safe_concat('</div>
<p>
  <b>Arv Number:</b>
  ');@output_buffer.append= ( @client.arv_number );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Date of Birth:</b>
  ');@output_buffer.append= ( @client.dob.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Gender:</b>
  ');@output_buffer.append= ( @client.gender );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Education:</b>
  ');@output_buffer.append= ( @client.education );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Occupation:</b>
  ');@output_buffer.append= ( @client.occupation );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Marital status:</b>
  ');@output_buffer.append= ( @client.marital_status );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Literacy level:</b>
  ');@output_buffer.append= ( @client.literacy_level );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Phone:</b>
  ');@output_buffer.append= ( @client.phone );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); if !medical.nil? 
@output_buffer.safe_concat('<p>
  <b>Regimen:</b>
  ');@output_buffer.append= ( regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
 <b>Takes CPT:</b>
 ');@output_buffer.append= ( cpt );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:34:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__68865757__process_action__296144752__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/show.html.erb within layouts/application (1.6ms)
Completed 500 Internal Server Error in 104ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'):
    9: if !medical.nil?
    10:          today = Date.today
    11: 	 status = 'pending'
    12: 	 appointment = Appointment.find(:first, :conditions => [ "status = ? ",  status)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (8.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:50:03 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
ERROR: compiling _app_views_clients_show_html_erb__558800726_96211460 RAISED /var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'
Function body:           def _app_views_clients_show_html_erb__558800726_96211460(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "clients/show";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<style>
#staff_right p{width:98%}
</style>
<span id="notice">');@output_buffer.append= ( notice );@output_buffer.safe_concat('</span>
<div id="staff_right">
');
medical = ClientMedical.find(:first, :conditions => [ "client_id = ?", @client.id ], :limit => 1)

if !medical.nil?
         today = Date.today
	 status = 'pending'
	 appointment = Appointment.find(:first, :conditions => [ "status = ? ",  status)

	if appointment.nil?

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'appointment' );@output_buffer.safe_concat('
'); 
	else

@output_buffer.safe_concat('	<p>
	  <b>Total drugs given on previous visit:</b><br /><br />
          ');@output_buffer.append= ( appointment.total_drugs );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
	<p>
         <b>Next appointment scheduled for:</b><br /><br />
	 ');@output_buffer.append= ( appointment.due_date.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('	</p>
');
	end
        regimen = medical.regimen
        cpt = medical.sulphur_allegy
else

@output_buffer.safe_concat('	');@output_buffer.append= ( render 'medical' );@output_buffer.safe_concat('
');
end

@output_buffer.safe_concat('</div>
<p>
  <b>Arv Number:</b>
  ');@output_buffer.append= ( @client.arv_number );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Date of Birth:</b>
  ');@output_buffer.append= ( @client.dob.to_date.to_s(:long) );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Gender:</b>
  ');@output_buffer.append= ( @client.gender );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Education:</b>
  ');@output_buffer.append= ( @client.education );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Occupation:</b>
  ');@output_buffer.append= ( @client.occupation );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Marital status:</b>
  ');@output_buffer.append= ( @client.marital_status );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Literacy level:</b>
  ');@output_buffer.append= ( @client.literacy_level );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>

<p>
  <b>Phone:</b>
  ');@output_buffer.append= ( @client.phone );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); if !medical.nil? 
@output_buffer.safe_concat('<p>
  <b>Regimen:</b>
  ');@output_buffer.append= ( regimen );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
<p>
 <b>Takes CPT:</b>
 ');@output_buffer.append= ( cpt );@output_buffer.safe_concat('
');@output_buffer.safe_concat('</p>
'); end 
@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `module_eval'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:282:in `compile'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:190:in `compile!'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:143:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:55:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/template.rb:142:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:150:in `block in render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:73:in `block in trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer_helpers.rb:82:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/method_tracer.rb:71:in `trace_execution_scoped'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:149:in `render_with_newrelic'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:99:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mwai/.rvm/rubies/ruby-1.9.3-p551/lib/ruby/1.9.1/benchmark.rb:295:in `realtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:268:in `block in retrieve_response_from_mimes'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/mime_responds.rb:195:in `respond_to'
/var/www/edi_research/app/controllers/clients_controller.rb:34:in `show'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/implicit_render.rb:4:in `send_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:167:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:425:in `_run__68865757__process_action__296144752__callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/notifications.rb:53:in `instrument'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:28:in `block in process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:361:in `perform_action_with_newrelic_trace'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/rails3/action_controller.rb:27:in `process_action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/base.rb:121:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/abstract_controller/rendering.rb:45:in `process'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:193:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_controller/metal.rb:236:in `block in action'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:71:in `dispatch'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:35:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:89:in `optimized_each'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-mount-0.8.2/lib/rack/mount/route_set.rb:141:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/routing/route_set.rb:538:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/agent_hooks.rb:30:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/browser_monitoring.rb:32:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/rack/developer_mode.rb:48:in `traced_call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/etag.rb:23:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/conditionalget.rb:25:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/flash.rb:243:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:195:in `context'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/session/abstract/id.rb:190:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/query_cache.rb:64:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activerecord-3.1.12/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/sendfile.rb:101:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/rack/logger.rb:13:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/methodoverride.rb:24:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/runtime.rb:17:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/activesupport-3.1.12/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/rack-1.3.10/lib/rack/lock.rb:15:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/static.rb:61:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/engine.rb:456:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/application.rb:143:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/railties-3.1.12/lib/rails/railtie/configurable.rb:30:in `method_missing'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/newrelic_rpm-3.12.1.298/lib/new_relic/agent/instrumentation/middleware_tracing.rb:67:in `call'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
/home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/passenger-4.0.46/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
Rendered clients/show.html.erb within layouts/application (1.4ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (/var/www/edi_research/app/views/clients/show.html.erb:12: syntax error, unexpected ')', expecting ']'):
    9: if !medical.nil?
    10:          today = Date.today
    11: 	 status = 'pending'
    12: 	 appointment = Appointment.find(:first, :conditions => [ "status = ? ",  status)
    13: 
    14: 	if appointment.nil?
    15: %>
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:50:32 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' ) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (26.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 188ms (Views: 133.9ms | ActiveRecord: 11.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:51:23 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' ) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (71.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 177ms (Views: 123.0ms | ActiveRecord: 11.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:51:26 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' ) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (75.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 180ms (Views: 127.4ms | ActiveRecord: 12.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:52:38 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 7 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.9ms)
Rendered clients/show.html.erb within layouts/application (29.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 177ms (Views: 79.8ms | ActiveRecord: 12.1ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 09:53:15 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"1", "taken_evening"=>"0", "due_date"=>"2015-10-14", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 09:53:15', 7, '2015-10-14', NULL, 0, 1, 30, '2015-09-14 09:53:15')[0m
  [1m[35m (81.7ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 183ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:53:15 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `appointments` SET `status` = 'pending', `updated_at` = '2015-09-14 09:53:15' WHERE `appointments`.`id` = 10[0m
  [1m[35m (71.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 7 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.8ms)
Rendered clients/show.html.erb within layouts/application (74.8ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 251ms (Views: 124.3ms | ActiveRecord: 85.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:53:29 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 7 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (3.1ms)
Rendered clients/show.html.erb within layouts/application (75.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 186ms (Views: 128.7ms | ActiveRecord: 13.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:54:33 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/show.html.erb within layouts/application (24.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 182ms (Views: 75.9ms | ActiveRecord: 11.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:54:53 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.8ms)
Rendered clients/show.html.erb within layouts/application (27.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 181ms (Views: 78.3ms | ActiveRecord: 11.5ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 09:55:04 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"1", "taken_evening"=>"", "due_date"=>"2015-08-28", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.4ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 09:55:04', 7, '2015-08-28', NULL, NULL, 1, 30, '2015-09-14 09:55:04')
  [1m[36m (114.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 217ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:55:04 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 09:55:05' WHERE `appointments`.`id` = 11
  [1m[36m (63.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.8ms)
Rendered clients/show.html.erb within layouts/application (29.2ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 246ms (Views: 126.4ms | ActiveRecord: 74.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 09:55:14 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 11 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.8ms)
Rendered clients/show.html.erb within layouts/application (29.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 190ms (Views: 83.7ms | ActiveRecord: 13.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:25:35 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.0ms)
Rendered clients/show.html.erb within layouts/application (74.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 175ms (Views: 124.6ms | ActiveRecord: 11.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:26:02 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.0ms)
Rendered clients/show.html.erb within layouts/application (76.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 174ms (Views: 126.8ms | ActiveRecord: 10.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:26:12 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.8ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (5.7ms)
Rendered clients/show.html.erb within layouts/application (103.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 213ms (Views: 163.0ms | ActiveRecord: 11.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:26:19 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.8ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (5.8ms)
Rendered clients/show.html.erb within layouts/application (40.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 271ms (Views: 170.7ms | ActiveRecord: 11.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:26:27 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.9ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (5.2ms)
Rendered clients/show.html.erb within layouts/application (54.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 243ms (Views: 110.0ms | ActiveRecord: 10.7ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:26:34 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.3ms)
Rendered clients/show.html.erb within layouts/application (29.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 244ms (Views: 121.6ms | ActiveRecord: 12.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:34:32 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.7ms)
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/show.html.erb within layouts/application (31.9ms)
Completed 500 Internal Server Error in 84ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    40: <h3>Previous appointments</h3>
    41: <%
    42: 	status = 'done'
    43: 	Appointment.find(:first, :conditions => [ "status = ? AND client_id = ? ",  status, @client.id]).each do |doneApp|
    44: %>
    45: 	<p><%= doneApp.due_date.to_date.to_s(:long) %></p>
    46: <%		
  app/views/clients/show.html.erb:43:in `_app_views_clients_show_html_erb__558800726__628014868'
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (7.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:35:31 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (4.2ms)
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (41.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 150ms (Views: 99.2ms | ActiveRecord: 11.5ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:35:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.4ms)
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (32.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 186ms (Views: 131.4ms | ActiveRecord: 12.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:36:03 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.9ms)
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (30.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 192ms (Views: 132.5ms | ActiveRecord: 11.6ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:36:11 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.4ms)
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (85.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 196ms (Views: 142.6ms | ActiveRecord: 12.4ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 10:36:44 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"0", "taken_evening"=>"1", "due_date"=>"2015-09-11", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 10:36:44', 7, '2015-09-11', NULL, 1, 0, 30, '2015-09-14 10:36:44')[0m
  [1m[35m (112.3ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 168ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:36:45 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 10:36:45' WHERE `appointments`.`id` = 12[0m
  [1m[35m (57.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.5ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.8ms)
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (32.4ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 251ms (Views: 131.5ms | ActiveRecord: 73.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:37:54 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.0ms)
  [1m[36mAppointment Load (0.9ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (80.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 189ms (Views: 133.6ms | ActiveRecord: 14.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:38:11 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (2.4ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.2ms)
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (85.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 207ms (Views: 141.6ms | ActiveRecord: 14.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:38:12 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (4.0ms)
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (38.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 203ms (Views: 89.9ms | ActiveRecord: 13.2ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:38:30 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.7ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.9ms)
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (32.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 200ms (Views: 84.5ms | ActiveRecord: 12.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:38:44 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.0ms)
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (74.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 241ms (Views: 125.3ms | ActiveRecord: 14.0ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 10:39:00 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"0", "taken_evening"=>"1", "due_date"=>"2015-09-09", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 10:39:00', 7, '2015-09-09', NULL, 1, 0, 30, '2015-09-14 10:39:00')[0m
  [1m[35m (483.4ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 577ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:39:00 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.5ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 13 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 10:39:00' WHERE `appointments`.`id` = 13
  [1m[36m (61.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (3.1ms)
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (76.6ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 312ms (Views: 131.5ms | ActiveRecord: 77.1ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 10:39:12 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"3", "taken_morning"=>"1", "taken_evening"=>"1", "due_date"=>"2015-09-03", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 10:39:12', 7, '2015-09-03', NULL, 1, 1, 3, '2015-09-14 10:39:12')
  [1m[36m (117.9ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 226ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:39:12 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 10:39:12' WHERE `appointments`.`id` = 14
  [1m[36m (68.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.8ms)
  [1m[35mAppointment Load (1.0ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (29.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 271ms (Views: 133.7ms | ActiveRecord: 86.1ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 10:39:25 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"2", "taken_morning"=>"2", "taken_evening"=>"1", "due_date"=>"2015-09-01", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (1.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 10:39:25', 7, '2015-09-01', NULL, 1, 2, 2, '2015-09-14 10:39:25')
  [1m[36m (184.6ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 300ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:39:25 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 14 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (62.2ms)[0m  [1mUPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 10:39:25' WHERE `appointments`.`id` = 15[0m
  [1m[35m (68.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.9ms)
  [1m[36mAppointment Load (0.9ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (85.4ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 344ms (Views: 138.3ms | ActiveRecord: 147.0ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:39:45 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 14 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.7ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.9ms)
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (31.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 218ms (Views: 83.6ms | ActiveRecord: 16.9ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:39:52 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.7ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.9ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 13 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.6ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 15 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.6ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.9ms)
  [1m[36mAppointment Load (0.8ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (33.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 231ms (Views: 94.9ms | ActiveRecord: 20.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:40:39 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.5ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (16.7ms)
  [1m[36mAppointment Load (0.7ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (44.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 129ms (Views: 96.9ms | ActiveRecord: 10.3ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:41:57 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClientMedical Load (0.7ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1[0m
  [1m[35mAppointment Load (0.5ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1
Rendered clients/_appointment.html.erb (15.6ms)
  [1m[36mAppointment Load (0.6ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )[0m
Rendered clients/show.html.erb within layouts/application (42.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 122ms (Views: 91.3ms | ActiveRecord: 10.5ms)


Started POST "/appointments" for 127.0.0.1 at 2015-09-14 10:42:26 +0200
  Processing by AppointmentsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGHCDIRwD3f8yWWAXGQ21mWW6Tffhn1peWCiuWnMsmo=", "appointment"=>{"client_id"=>"1", "total_drugs"=>"30", "taken_morning"=>"0", "taken_evening"=>"1", "due_date"=>"2015-09-13", "created_by"=>"7"}, "commit"=>"Create Appointment"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.6ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `appointments` (`client_id`, `created_at`, `created_by`, `due_date`, `status`, `taken_evening`, `taken_morning`, `total_drugs`, `updated_at`) VALUES (1, '2015-09-14 10:42:27', 7, '2015-09-13', NULL, 1, 0, 30, '2015-09-14 10:42:27')[0m
  [1m[35m (64.7ms)[0m  COMMIT
Redirected to http://localhost:3000/clients/1
Completed 302 Found in 130ms


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:42:27 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.8ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 16 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2015-09-14 10:42:27' WHERE `appointments`.`id` = 16
  [1m[36m (52.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.6ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.8ms)
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (28.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 191ms (Views: 82.7ms | ActiveRecord: 66.1ms)


Started GET "/clients/1" for 127.0.0.1 at 2015-09-14 10:42:45 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.6ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (15.6ms)
  [1m[35mAppointment Load (0.7ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (42.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 122ms (Views: 90.0ms | ActiveRecord: 10.7ms)
  [1m[36m (453.1ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (593.2ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`)
  [1m[36m (54.1ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20141121093348)
  [1m[35m (0.3ms)[0m  CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `first_name` varchar(255), `surname` varchar(255), `phone` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
Mysql2::Error: All parts of a PRIMARY KEY must be NOT NULL; if you need NULL in a key, use UNIQUE instead: CREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `first_name` varchar(255), `surname` varchar(255), `phone` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (1.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateUsers (20141121093348)
Migrating to CreateLogins (20141121093847)
Migrating to AddSaltToUsers (20141121123245)
Migrating to AddAdminToUsers (20141121152055)
Migrating to AddEmailtoUsers (20141121180508)
Migrating to AddEmailToUsers (20141121180655)
Migrating to AddTypeToItems (20141124094458)
Migrating to AddUserIdToSales (20141124111958)
Migrating to AddDiscountToSales (20150525072827)
Migrating to EditDiscountToSales (20150525073354)
Migrating to AddStatusToItem (20150610084939)
Migrating to AddActiveIdToItem (20150610085043)
Migrating to CreateClients (20150909091343)
Migrating to AddArvNumberToClients (20150909093420)
Migrating to RemoveFirstnameFromClients (20150909093452)
Migrating to RemoveSurnameFromClients (20150909093531)
Migrating to CreateAppointments (20150909103956)
Migrating to AddStatusToAppointment (20150910095641)
Migrating to CreateClientMedicals (20150910100242)
Migrating to AddDrugsPastToAppointment (20150910100500)
Migrating to AddTakenEveningToAppointment (20150910100531)
Migrating to AddTakenMorningToAppointment (20150910100554)
  [1m[35m (0.2ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
  [1m[36m (1.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m


Started GET "/" for 127.0.0.1 at 2016-05-20 16:11:14 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (58.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (31.9ms)
Completed 200 OK in 166ms (Views: 72.0ms | ActiveRecord: 59.2ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-20 16:11:14 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/clients" for 127.0.0.1 at 2016-05-20 16:11:22 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (15.5ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (9.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 96ms (Views: 71.1ms | ActiveRecord: 16.9ms)


Started GET "/" for 127.0.0.1 at 2016-05-20 16:11:26 +0200
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (6.1ms)
Completed 200 OK in 50ms (Views: 42.4ms | ActiveRecord: 1.3ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-20 16:11:26 +0200
Served asset /defaults.js - 404 Not Found (3ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.6ms)


Started GET "/users/7" for 127.0.0.1 at 2016-05-20 16:11:27 +0200
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered users/show.html.erb within layouts/application (8.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 40ms (Views: 36.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2016-05-20 16:11:35 +0200
  Processing by DashboardController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (6.6ms)
Completed 200 OK in 29ms (Views: 19.6ms | ActiveRecord: 2.1ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-20 16:11:35 +0200
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/clients" for 127.0.0.1 at 2016-05-20 16:11:37 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (7.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 53ms (Views: 43.1ms | ActiveRecord: 1.8ms)


Started GET "/clients/1" for 127.0.0.1 at 2016-05-20 16:11:40 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.2ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
  [1m[36mAppointment Load (1.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (20.8ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-20 16:11:40' WHERE `appointments`.`id` = 4
  [1m[36m (53.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-20 16:11:40' WHERE `appointments`.`id` = 7
  [1m[36m (39.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (16.4ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 1) LIMIT 1
  [1m[36mAppointment Load (0.2ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 1 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.2ms)
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 1 )
Rendered clients/show.html.erb within layouts/application (32.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 303ms (Views: 48.7ms | ActiveRecord: 136.5ms)


Started GET "/appointments" for 127.0.0.1 at 2016-05-20 16:11:58 +0200
  Processing by AppointmentsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClient Load (0.2ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 1 LIMIT 1
Rendered appointments/index.html.erb within layouts/application (18.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 90ms (Views: 79.5ms | ActiveRecord: 3.0ms)


Started GET "/" for 127.0.0.1 at 2016-05-20 16:12:04 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (5.7ms)
Completed 200 OK in 51ms (Views: 43.8ms | ActiveRecord: 1.5ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-20 16:12:04 +0200
Served asset /defaults.js - 404 Not Found (7ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/sessions/destroy" for 127.0.0.1 at 2016-05-20 16:12:10 +0200
  Processing by SessionsController#show as HTML
  Parameters: {"id"=>"destroy"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Redirected to http://localhost:3000/sessions/new
Completed 302 Found in 8ms


Started GET "/sessions/new" for 127.0.0.1 at 2016-05-20 16:12:10 +0200
  Processing by SessionsController#new as HTML
Rendered sessions/new.html.erb within layouts/sessions (1.0ms)
Completed 200 OK in 37ms (Views: 37.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions" for 127.0.0.1 at 2016-05-20 16:12:12 +0200
  Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3I2e2GWphofwir2fErygoK4yIAzFpSuTQFHG0lLG0nk=", "email"=>"mwmtingwi5@gmail.com", "password"=>"[FILTERED]", "commit"=>"login"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`email` = 'mwmtingwi5@gmail.com' LIMIT 1[0m
Redirected to http://localhost:3000/?id=7
Completed 302 Found in 14ms


Started GET "/?id=7" for 127.0.0.1 at 2016-05-20 16:12:12 +0200
  Processing by DashboardController#index as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered dashboard/index.html.erb within layouts/dashboard (7.4ms)
Completed 200 OK in 25ms (Views: 17.3ms | ActiveRecord: 1.4ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-20 16:12:12 +0200
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (1.6ms)


Started HEAD "/" for 127.0.0.1 at 2016-05-31 12:13:59 +0200
  Processing by DashboardController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 39ms


Started GET "/" for 127.0.0.1 at 2016-05-31 12:14:06 +0200
  Processing by DashboardController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Rendered dashboard/index.html.erb within layouts/dashboard (9.3ms)
Completed 200 OK in 344ms (Views: 299.9ms | ActiveRecord: 1.7ms)


Started GET "/assets/defaults.js" for 127.0.0.1 at 2016-05-31 12:14:06 +0200
Served asset /defaults.js - 404 Not Found (2ms)

ActionController::RoutingError (No route matches [GET] "/assets/defaults.js"):
  

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/clients" for 127.0.0.1 at 2016-05-31 12:14:08 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (14.9ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (8.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 229ms (Views: 200.3ms | ActiveRecord: 18.0ms)


Started GET "/clients" for 127.0.0.1 at 2016-05-31 14:08:14 +0200
  Processing by ClientsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.2ms)[0m  [1mSELECT `clients`.* FROM `clients` [0m
Rendered clients/index.html.erb within layouts/application (0.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 73ms (Views: 63.4ms | ActiveRecord: 1.7ms)


Started HEAD "/" for 127.0.0.1 at 2016-05-31 16:36:32 +0200


Started GET "/clients" for 127.0.0.1 at 2016-05-31 16:36:32 +0200
  Processing by DashboardController#index as HTML
  Processing by ClientsController#index as HTML
Redirected to http://0.0.0.0/sessions/new
Completed 302 Found in 46ms
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (10.9ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (28.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 385ms (Views: 316.0ms | ActiveRecord: 12.7ms)


Started GET "/appointments" for 127.0.0.1 at 2016-05-31 16:36:52 +0200
  Processing by AppointmentsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mClient Load (0.2ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 2 LIMIT 1[0m
Rendered appointments/index.html.erb within layouts/application (52.3ms)
Completed 500 Internal Server Error in 123ms

ActionView::Template::Error (Couldn't find Client with id=2):
    11:   </tr>
    12: <% @appointments.each do |appointment| %>
    13:   <tr>
    14:     <% client = Client.find(appointment.client_id) %>
    15:     <td><%= client.arv_number %></td>
    16:     <td><%= appointment.due_date.to_date.to_s(:long) %></td>
    17:     <td><%= appointment.created_by %></td>
  app/views/appointments/index.html.erb:14:in `block in _app_views_appointments_index_html_erb___4253708046102948775_35435740'
  app/views/appointments/index.html.erb:12:in `each'
  app/views/appointments/index.html.erb:12:in `_app_views_appointments_index_html_erb___4253708046102948775_35435740'
  app/controllers/appointments_controller.rb:7:in `index'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (5.2ms)


Started GET "/clients/4" for 127.0.0.1 at 2016-05-31 16:37:05 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.2ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 4 LIMIT 1[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 7 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.3ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 4) LIMIT 1[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 4 ) LIMIT 1
Rendered clients/_appointment.html.erb (3.9ms)
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 4 )[0m
Rendered clients/show.html.erb within layouts/application (48.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
Completed 200 OK in 171ms (Views: 97.0ms | ActiveRecord: 6.9ms)


Started GET "/clients/new" for 127.0.0.1 at 2016-05-31 16:46:27 +0200
  Processing by ClientsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Rendered clients/_form.html.erb (13.3ms)
Rendered clients/new.html.erb within layouts/application (22.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 114ms (Views: 73.4ms | ActiveRecord: 2.1ms)


Started GET "/clients" for 127.0.0.1 at 2016-05-31 16:46:30 +0200
  Processing by ClientsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` 
Rendered clients/index.html.erb within layouts/application (8.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 90ms (Views: 48.4ms | ActiveRecord: 1.9ms)


Started GET "/clients/8" for 127.0.0.1 at 2016-05-31 16:46:33 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 8 LIMIT 1
  [1m[36mAppointment Load (0.4ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-31 16:46:33' WHERE `appointments`.`id` = 8
  [1m[36m (46.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 9 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-31 16:46:33' WHERE `appointments`.`id` = 9
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-31 16:46:34' WHERE `appointments`.`id` = 10
  [1m[36m (38.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `appointments` SET `status` = 'done', `updated_at` = '2016-05-31 16:46:34' WHERE `appointments`.`id` = 11
  [1m[36m (42.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.3ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 8) LIMIT 1
  [1m[36mAppointment Load (0.2ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 8 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (1.8ms)
Rendered clients/show.html.erb within layouts/application (12.1ms)
Completed 500 Internal Server Error in 272ms

ActionView::Template::Error (undefined method `total_drugs' for #<Appointment:0x00000003b459d0>):
    17:   </div>
    18:   <div class="field">
    19:    <%= f.label :total_drugs %>
    20:    <%= f.number_field :total_drugs %>
    21:   </div>
    22:   <div class="field">
    23:    <label>Drugs taken in the morning (per day)</label>
  app/views/clients/_appointment.html.erb:20:in `block in _app_views_clients__appointment_html_erb__1439443806354334311_34876600'
  app/views/clients/_appointment.html.erb:2:in `_app_views_clients__appointment_html_erb__1439443806354334311_34876600'
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___2085857722332781095_34538500'
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (27.2ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (31.3ms)


Started GET "/clients/8" for 127.0.0.1 at 2016-05-31 16:47:27 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
  [1m[36mClient Load (0.3ms)[0m  [1mSELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 8 LIMIT 1[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` 
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 9 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 11 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mClientMedical Load (0.3ms)[0m  [1mSELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 8) LIMIT 1[0m
  [1m[35mAppointment Load (0.2ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 8 ) LIMIT 1
Rendered clients/_appointment.html.erb (2.0ms)
Rendered clients/show.html.erb within layouts/application (44.3ms)
Completed 500 Internal Server Error in 92ms

ActionView::Template::Error (undefined method `total_drugs' for #<Appointment:0x00000003fa20a0>):
    17:   </div>
    18:   <div class="field">
    19:    <%= f.label :total_drugs %>
    20:    <%= f.number_field :total_drugs %>
    21:   </div>
    22:   <div class="field">
    23:    <label>Drugs taken in the morning (per day)</label>
  app/views/clients/_appointment.html.erb:20:in `block in _app_views_clients__appointment_html_erb__1439443806354334311_34876600'
  app/views/clients/_appointment.html.erb:2:in `_app_views_clients__appointment_html_erb__1439443806354334311_34876600'
  app/views/clients/show.html.erb:16:in `_app_views_clients_show_html_erb___2085857722332781095_36199500'
  app/controllers/clients_controller.rb:34:in `show'

Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.9ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mwai/.rvm/gems/ruby-1.9.3-p551/gems/actionpack-3.1.12/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (6.0ms)


Started GET "/clients/8" for 127.0.0.1 at 2016-05-31 16:48:38 +0200
  Processing by ClientsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mClient Load (0.3ms)[0m  SELECT `clients`.* FROM `clients` WHERE `clients`.`id` = 8 LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` [0m
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 8 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 9 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mAppointment Load (0.3ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 10 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
  [1m[36mAppointment Load (0.5ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE `appointments`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
  [1m[35mClientMedical Load (0.8ms)[0m  SELECT `client_medicals`.* FROM `client_medicals` WHERE (client_id = 8) LIMIT 1
  [1m[36mAppointment Load (0.3ms)[0m  [1mSELECT `appointments`.* FROM `appointments` WHERE (status = 'pending' AND client_id = 8 ) LIMIT 1[0m
Rendered clients/_appointment.html.erb (2.5ms)
  [1m[35mAppointment Load (0.4ms)[0m  SELECT `appointments`.* FROM `appointments` WHERE (status = 'done' AND client_id = 8 )
Rendered clients/show.html.erb within layouts/application (25.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 7 LIMIT 1
Completed 200 OK in 150ms (Views: 65.7ms | ActiveRecord: 9.8ms)
